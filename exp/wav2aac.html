<!--
> Muaz Khan     - www.MuazKhan.com
> MIT License   - www.WebRTC-Experiment.com/licence
> Documentation - github.com/muaz-khan/Ffmpeg.js
-->
<!DOCTYPE html>
<html lang="en">

<head>
  <title>RecordRTC WAV to ACC using ffmpeg-asm.js</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <!-- script used for audio/video/gif recording -->
  <script src="https://cdn.webrtc-experiment.com/RecordRTC.js"> </script>
  <script src="https://webrtc.github.io/adapter/adapter-latest.js"></script>
</head>

<body>
  <article>
    <section class="experiment">
      <h2 class="header">Record Audio and convert into "ACC" using <a
          href="https://archive.org/download/ffmpeg_asm/ffmpeg_asm.js" download="ffmpeg-asm.js">ffmpeg-asm.js</a>!</h2>

      <div class="inner">
        <label for="btn_load_audio">Upload Audio (*.wav):</label>
        <input type="file" id="btn_load_audio" accept=".wav"></input></br>
        <br>
      </div>
    </section>
    <script src="main.js"></script>
    <script>
      const dom_btn_load_audio = document.getElementById("btn_load_audio");
      function load_audio_data(array_buffer) {
        const uint8_array = new Uint8Array(array_buffer);
        console.log("got audio: ", uint8_array);
        //on_audio(array_buffer);
        log('<a href="' + workerPath + '" download="ffmpeg-asm.js">ffmpeg-asm.js</a> file download started. It is about 18MB in size; please be patient!');
        convertStreams(uint8_array, true);
      }
      dom_btn_load_audio.onchange = (evt) => {
        const file = dom_btn_load_audio.files[0];
        file.arrayBuffer().then(load_audio_data);
      };
    </script>
  </article>
</body>

</html>